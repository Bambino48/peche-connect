<section class="payment-detail-page">

  <!-- HEADER -->
  <div class="page-header">
    <div>
      <h1>Détail du paiement #{{ payment.id }}</h1>
      <p class="subtitle">
        Paiement effectué le
        <strong>{{ payment.paid_at || '—' }}</strong>
      </p>
    </div>

    <button class="btn-back" routerLink="/payments">
      Retour
    </button>
  </div>

  <!-- SUMMARY -->
  <div class="payment-summary">

    <!-- PAIEMENT -->
    <div class="summary-card">
      <h3>Paiement</h3>

      <div class="summary-row">
        <span>Méthode</span>
        <strong>{{ payment.payment_method || '—' }}</strong>
      </div>

      <div class="summary-row">
        <span>Statut</span>
        <span
          class="status"
          [ngClass]="getStatusClass(payment.payment_status)"
        >
          {{ payment.payment_status || '—' }}
        </span>
      </div>

      <div class="summary-row">
        <span>Référence</span>
        <strong>{{ payment.transaction_reference || '—' }}</strong>
      </div>

      <div class="summary-row">
        <span>Date</span>
        <strong>{{ payment.paid_at || '—' }}</strong>
      </div>
    </div>

    <!-- COMMANDE -->
    <div class="summary-card">
      <h3>Commande associée</h3>

      <div class="summary-row">
        <span>Commande</span>

        <a
          *ngIf="payment.order_id"
          class="link"
          [routerLink]="['/orders', payment.order_id]"
        >
          Commande #{{ payment.order_id }}
        </a>

        <span *ngIf="!payment.order_id" class="muted">
          —
        </span>
      </div>

      <div class="summary-row">
        <span>Montant</span>
        <strong class="amount">
          {{ payment.amount | number }} FCFA
        </strong>
      </div>

      <div class="summary-row">
        <span>Reçu</span>

        <a
          *ngIf="payment.receipt_url"
          class="link"
          [href]="payment.receipt_url"
          target="_blank"
        >
          Télécharger le reçu
        </a>

        <span *ngIf="!payment.receipt_url" class="muted">
          Non disponible
        </span>
      </div>
    </div>

  </div>

</section>
